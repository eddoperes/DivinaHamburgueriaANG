<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<h1>Editar item do estoque</h1>

<form #form="ngForm" *ngIf="item !== undefined" (ngSubmit)="Enviar(item.id, form)">

    <input type="hidden" name="id" [ngModel]="item.id">

    <label htmlFor="name">Nome:
        <input type="text" 
               name="name"
               required         
               maxlength="20"  
               [ngModel]="item.name"
               #name="ngModel">
        <label *ngIf="name.errors?.['required']" class="warning">
            * o nome é requerido.
        </label>
        <label *ngIf="name.errors?.['maxlength']" class="warning">
            * máximo de 20 caracteres.
        </label>
    </label>
    <br><br>

    <label>Marca:</label><br>
    <input type="text" name="brand"  [ngModel]="item.brand">
    <br><br>

    <label>Conteúdo:
    <input type="number" 
           name="content"  
           required
           min="1"
           [ngModel]="item.content"
           #content="ngModel">
        <label *ngIf="content.errors?.['required']" class="warning">
            * o conteúdo é requerido.
        </label>
        <label *ngIf="content.errors?.['min']" class="warning">
            * o conteúdo mínimo é 1.
        </label>
    </label>
    <br><br>

    <label>Unidade:</label><br>
    <select name="unityId"  [ngModel]="item.unityId" >
        <option value={{unidade.id}} *ngFor="let unidade of unidades">
            {{unidade.name}}
        </option>
    </select>
    <br><br>

    <label>Tipo:</label><br>
    <select name="type"  [ngModel]="item.type" >
        <option value={{1}}>
            Receita
        </option>
        <option value={{2}}>
            Revenda
        </option>
    </select>
    <br><br>

    <!--
        <button (click)="Enviar(item.id, form.value)">Enviar</button>
    -->

    <input type="submit" Value="Enviar">

</form>

